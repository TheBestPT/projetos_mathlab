
matriz_distancias_test = [ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 62 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 121 0 74 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 54 0 0 0 0 0 0 0 0 0 0 0 0 68 0 175;
  0 0 0 0 0 0 0 0 139 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 166 0 0 0 0 0 57 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 167 0 0 0 0 0 0 0 0 175 0 0 0 0 0 0 0 0 0 0 148 126 0 0 0 0 0 0 0 0 0 0 173 0 0 0 0 0 0;
  0 0 0 0 0 142 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 91 0 0 0 0 0 0 0 0 0 0 0 0 62 0 0 0 0 0 0 0 0 130 0 0 0 0 0;
  0 0 0 0 142 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 148 57 0 0 128 0 0 0 0 0 0 76 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 51 0 0 0 0 0 0 0 0 0 0 0 0 0 0 100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 43 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 51 0 0 0 0 0 0 0 0 148 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 139 0 0 0 0 0 0 0 0 60 0 133 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 26 0 0 0 0 0 0 83 0 0 0 0 0 0 0 0 0 46 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 30 0 0 0 0 0 0 0 0 0 0 144 0 0 0 0 0 0 0 0 0 52 0 0 0 0 0 0 0 0 78 0 0 0 0 0;
  0 0 0 167 0 0 0 0 60 0 0 0 0 188 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 29 0 0 0 0 0 0 0 0 0 0 0 0 0 0 35 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 133 0 0 188 0 0 0 0 0 0 0 0 0 0 0 0 0 113 0 0 0 0 0 102 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 153;
  0 0 0 0 0 0 0 0 0 0 30 0 29 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 46 0;
  0 0 0 0 0 0 0 148 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 26 0 0 0 0 0 0 0 0 85 50 0 0 0 0 0 0 0 0 90 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 123 0 0 0 0 0 109 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 85 0 0 72 0 0 0 0 0 85 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 89;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 50 0 72 0 0 0 0 0 0 102 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 59 0 0 0 0 0;
  0 0 0 175 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 141 0 0 0 0 0 0;
  0 0 0 0 0 148 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 134 0 0 0 0 86 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 96 0 0 0 0 0 0;
  0 0 0 0 91 57 100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 134 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 115 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 83 0 0 0 0 0 0 0 0 0 0 0 0 0 0 67 0 0 0 109 0 0 0 0 0 0 0 0 0 0 0 0 0 57 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 123 0 0 0 0 0 67 0 0 0 0 0 0 0 0 0 54 0 0 0 0 0 0 0 0 103 0 0 59 0 0 0 0;
  0 0 0 0 0 128 0 0 0 0 144 0 0 113 0 0 0 0 85 102 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 86 0 0 0 105 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 0 0 0 0 0 86 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 124 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 90 0 0 0 0 0 0 109 0 0 0 0 0 76 0 0 0 0 0 0 0 0 0 0 0 0 0 0 67 0 94 0 0 0;
  62 0 0 0 0 0 0 0 0 0 0 0 35 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 76 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 109 0 0 0 0 0 0 0 0 86 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 120 0 0 0 0;
  0 0 166 148 0 0 0 0 0 0 0 100 0 102 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 103 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 126 0 76 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 103 0 0 0 0 0 0 0 0 0 0 0 157 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 46 0 0 0 0 0 0 0 0 0 0 0 0 0 0 54 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 54 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 105 0 0 0 0 0 0 0 0 0 0 163 0 0 147 102 0 0 0 0 0 0 0 0;
  0 0 0 0 62 0 0 0 0 0 52 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 45 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 86 0 0 0 0 0 0 0 0 0 252 0;
  0 0 57 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 163 0 0 0 0 0 0 100 0 0 0 0 0 0 0 80;
  0 0 0 0 0 0 43 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 86 0 0 93 0 0 0 0 0 0 0 0 229 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 115 0 0 0 0 0 0 0 0 0 0 0 0 45 0 0 93 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 147 0 0 0 0 0 0 111 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 102 0 0 100 0 0 111 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 57 103 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 63 0 0 0;
  0 0 0 173 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 141 96 0 0 0 0 0 124 0 0 0 0 157 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 130 0 0 0 0 0 78 0 0 0 0 0 0 0 0 59 0 0 0 0 0 0 0 0 67 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 59 0 0 0 0 0 120 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 76 0 132;
  121 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 94 0 0 0 0 0 0 0 0 0 0 0 0 0 63 0 0 0 0 0 0 0;
  0 68 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 76 0 0 0 0;
  74 0 0 0 0 0 0 0 0 0 0 0 0 0 46 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 252 0 229 0 0 0 0 0 0 0 0 0 0 0;
  0 175 0 0 0 0 0 0 0 0 0 0 0 153 0 0 0 0 89 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 80 0 0 0 0 0 0 0 132 0 0 0 0;
];

%{
germany50 = readlines('projeto2\germany50.txt');
[length, row] = size(germany50);
matriz = zeros(50, 50);
disp(matriz(1, 1));
for i = 2:length
    if(i==length) 
        break;
    end
    line = strsplit(germany50(i), '\t');
    matriz(str2num(line(1, 2)), str2num(line(1, 3))) = str2num(line(1, 4));
end
%}

dataMatrix = Dados.data;
%disp(dataMatrix)
matriz_readed = zeros(50, 50);
[length, row] = size(dataMatrix);
disp(length);
for i = 1 : length
    matriz_readed(dataMatrix(i, 2), dataMatrix(i, 3)) = dataMatrix(i, 4);
    matriz_readed(dataMatrix(i, 3), dataMatrix(i, 2)) = dataMatrix(i, 4);
end
%disp(matriz_distancias_test)
[length, row] = size(matriz_readed);
for i = 1 : length
    for j = 1 : length
        if(matriz_readed(i, j) ~= matriz_distancias_test(i, j))
            %disp(matriz_readed(i, j))
            %disp(matriz_distancias_test(i, j))
            %disp('diferente')
        end
    end
end


%disp(matriz);


%M(:, 4) Os dois pontos servem para buscar tudo num certo indice


%disp(matriz);


%disp(matriz_distancias_test(46, 50))
% caminho 1
%62 + 76 + 90 + 85 + 89 = 402
% 47 43 25 46 50
% other path: 121 + 63 + 103 + 59 + 132 = 478


[d0, p0, s0, matriz_distancias, caminho] = getCaminho(matriz_readed);
[col, length] = size(caminho);
soma = 0;
for i = 1 : length
    if(i == length) 
        break;
    end
    soma = soma +matriz_readed(caminho(i), caminho(i+1)) ;
end
disp('Soma das distancias do caminho 1: ');
disp(soma);


new_matriz_distancias = matriz_distancias;
for i = 1 : length
    if(i == length)
        break;
    end
    %new_matriz_distancias(1, caminho(i)) = 0;
    %new_matriz_distancias(caminho(i), 1) = -1;
    new_matriz_distancias(caminho(i), caminho(i+1)) = 0;
    new_matriz_distancias(caminho(i+1), caminho(i)) = -1;
end



[d01, p01, s01, matriz_distancias, caminho2] = getCaminho(new_matriz_distancias);

[col, length] = size(caminho2);
soma = 0;
for i = 1 : length
    if(i == length) 
        break;
    end
    soma = soma +new_matriz_distancias(caminho2(i), caminho2(i+1)) ;
end
disp('Soma das distancias do caminho 2: ');
disp(soma);



%disp(new_matriz_distancias(19, 50))
% caminho 2
%74 + 46 + 30 + 78 + 59 + 72 + 89 = 448

G = graph(matriz_readed,'upper');
plot = G.plot();
highlight(plot, [1 30 29 17 19 50], 'EdgeColor','g');
highlight(plot, [1 47 43 25 46 50], 'EdgeColor','r');